function getBlogJson(){wtf.get("blog2016.json",function(o){blog2016=JSON.parse(o);var e=wtf.getURLQuery("year");null!=e&&"2016"!=e||doYear(2016)}),wtf.get("blog2015.json",function(o){blog2015=JSON.parse(o);var e=wtf.getURLQuery("year");"2015"==e&&doYear(2015)})}function doYear(o){var o=o;responseHandle(window["blog"+o])}function responseHandle(o,e,n){var t=JSON.parse(JSON.stringify(o));t.blog.sort(function(o,e){return o.index-e.index});for(var s='<div id="bodyTitle"><h1>DKZ&apos;s blog</h1><hr></div>';0!==t.blog.length;){var i=t.blog.pop();(n||0!==i.index&&1!==i.index)&&(s=s+'<a href="blogmd/'+i.index+'.html">',s=s+'<article class="markdown-body"><h1>'+i.title+"</h1>",s=s+"<p><strong>"+i.info+"</strong></p>",s=s+"<p>"+i.key+"</p>",""!==i.img&&(s=s+'<p><img src="blogmd/'+i.img+'" style="max-width:100%;"></p>'),s+="</article></a>")}e&&(s+='<article class="markdown-body"><h1>Ooops!</h1>',s+="<p><strong>Can not find. Please change keyword.</strong></p>",s+='<p>please contact <a href="blogmd/1.html">DKZ</a> to fix it</p>',s+="</article>"),s+='<div class="markdown-body" id="discusspane"><a href="https://github.com/davidkingzyb/davidkingzyb.github.io/issues/1" class="btn">Discuss</a><a href="javascript:doYear(2016)" class="btn">2016</a><a href="javascript:doYear(2015)" class="btn">2015</a><a href="blogmd/1.html" class="btn">Contact</a><a href="rss.xml" class="btn" style="color:#ff9632;border:#ff9632 1px solid;">RSS</a><div id="copyright">&copy;2015-2016 by DKZ</div></div>',document.getElementById("bodyPane").innerHTML=s}var resp,searchJson,blog2016,blog2015;window.onload=function(){var o=document.getElementById("dkzlogo"),e=o.getContext("2d"),n=new DKZLogoClass(e,15);n.drawDKZ("stroke"),setTimeout(n.animateDKZ(),2e3),o.onclick=function(){n.fillrandomDKZ()},getBlogJson();var t=document.getElementById("search");t.onclick=function(){searchJson=blog2015.blog.concat(blog2016.blog),console.log(searchJson);var o=prompt("Search:");if(o){o.toLowerCase();for(var e={blog:[]},n=0;n<searchJson.length;n++)searchJson[n].info.toLowerCase().indexOf(o)===-1&&searchJson[n].title.toLowerCase().indexOf(o)===-1&&searchJson[n].key.toLowerCase().indexOf(o)===-1||e.blog.push(searchJson[n]);var t=!1;0===e.blog.length&&(t=!0),responseHandle(e,t,!0)}};var s=document.getElementById("footer");window.innerWidth>=750&&(s.onmouseover=function(){s.style.height="100px"},s.onmouseout=function(){document.body.clientHeight-document.body.scrollTop-window.innerHeight>40&&(s.style.height="20px")}),window.onscroll=function(){document.body.clientHeight-document.body.scrollTop-window.innerHeight<40?window.innerWidth>=750&&(s.style.height="100px"):window.innerWidth>=750&&(s.style.height="20px")}};