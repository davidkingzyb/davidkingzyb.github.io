function getBlogJson(){wtf.get("blog2016.json",function(o){blog2016=JSON.parse(o);var e=wtf.getURLQuery("year");null!=e&&"2016"!=e||doYear(2016)}),wtf.get("blog2015.json",function(o){blog2015=JSON.parse(o);var e=wtf.getURLQuery("year");"2015"==e&&doYear(2015)})}function doYear(o){var o=o;responseHandle(window["blog"+o])}function responseHandle(o,e,n){var t=JSON.parse(JSON.stringify(o));t.blog.sort(function(o,e){return o.index-e.index});for(var i='<div id="bodyTitle"><h1>DKZ&apos;s blog</h1><hr></div>';0!==t.blog.length;){var a=t.blog.pop();(n||0!==a.index&&1!==a.index)&&(i=i+'<a href="blogmd/'+a.index+'.html">',i=i+'<article class="markdown-body"><h1>'+a.title+"</h1>",i=i+"<p><strong>"+a.info+"</strong></p>",i=i+"<p>"+a.key+"</p>",""!==a.img&&(i=i+'<p><img src="blogmd/'+a.img+'" style="max-width:100%;"></p>'),i+="</article></a>")}e&&(i+='<article class="markdown-body"><h1>Ooops!</h1>',i+="<p><strong>Can not find. Please change keyword.</strong></p>",i+='<p>please contact <a href="blogmd/1.html">DKZ</a> to fix it</p>',i+="</article>"),i+='<div class="markdown-body" id="discusspane"><a href="https://github.com/davidkingzyb/davidkingzyb.github.io/issues/1" class="btn">Discuss</a><a href="javascript:doYear(2016)" class="btn">2016</a><a href="javascript:doYear(2015)" class="btn">2015</a><a href="blogmd/1.html" class="btn">Contact</a><div id="copyright">&copy;2015-2016 by DKZ</div></div>',document.getElementById("bodyPane").innerHTML=i}var resp,searchJson,blog2016,blog2015;window.onload=function(){var o=document.getElementById("dkzlogo"),e=o.getContext("2d"),n=new DKZLogoClass(e,15);n.drawDKZ("stroke"),setTimeout(n.animateDKZ(),2e3),o.onclick=function(){n.fillrandomDKZ()},getBlogJson();var t=document.getElementById("search");t.onclick=function(){searchJson=blog2015.blog.concat(blog2016.blog),console.log(searchJson);var o=prompt("Search:");if(o){o.toLowerCase();for(var e={blog:[]},n=0;n<searchJson.length;n++)searchJson[n].info.toLowerCase().indexOf(o)===-1&&searchJson[n].title.toLowerCase().indexOf(o)===-1&&searchJson[n].key.toLowerCase().indexOf(o)===-1||e.blog.push(searchJson[n]);var t=!1;0===e.blog.length&&(t=!0),responseHandle(e,t,!0)}};var i=document.getElementById("footer");window.innerWidth>=750&&(i.onmouseover=function(){i.style.height="100px"},i.onmouseout=function(){document.body.clientHeight-document.body.scrollTop-window.innerHeight>40&&(i.style.height="20px")}),window.onscroll=function(){document.body.clientHeight-document.body.scrollTop-window.innerHeight<40?window.innerWidth>=750&&(i.style.height="100px"):window.innerWidth>=750&&(i.style.height="20px")}};