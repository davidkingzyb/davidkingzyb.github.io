<!DOCTYPE html>
<html>
<head>
	<title>DKZ's Blog</title>
	<meta charset="utf-8">
	<meta name="viewport"
          content="width=device-width,initial-scale=0.8, minimum-scale=0.8, maximum-scale=0.8, user-scalable=no"/>
	<link rel="stylesheet" type="text/css" href="../res/md.css">
	<link rel="stylesheet" type="text/css" href="../res/style.css">
	<script type="text/javascript" src="blogImg/blogmd.js"></script>
</head>
<body>
	<div id="container">
		<a href="#top">
			<div id="headPane">
			<div id="headmain">
				<canvas id="dkzlogo" width="340" height="250">
					<img src="/res/img/dkzlogo.png">
				</canvas>
			</div>

		</div>
		</a>
		<div id="bodyPane"><article class="markdown-body"><h1><a id="user-content-egretinit" class="anchor" href="#egretinit" aria-hidden="true"><span class="octicon octicon-link"></span></a>egretInit</h1>
<p><strong>Build egret project quickly.</strong></p>
<p>2015/8/4 by DKZ update 2015/10/23</p>
<p><a href="https://github.com/davidkingzyb/egretInit">github</a></p>
<ul>
<li>
<p><strong>egretInit</strong> An example of egret project base on egret</p>
</li>
<li>
<p><strong>debug.ts</strong> debug egret project</p>
</li>
<li>
<p><strong>tool.ts</strong> egret tools for Initialize standard egret Object</p>
</li>
<li>
<p><strong>component.ts</strong> some useful components like air button</p>
</li>
<li>
<p><strong>animation.ts</strong> Time-based Animation</p>
</li>
<li>
<p><strong>loading.ts</strong> DKZ loading panel </p>
</li>
<li>
<p><strong>resource.py</strong> create resource.json automatically</p>
</li>
<li>
<p><strong>update.py</strong> update egretInit automatically</p>
</li>
<li>
<p><strong>runServer.py</strong> a python server</p>
</li>
<li>
<p><strong>simpleserver.py</strong> a python server</p>
</li>
<li>
<p><strong>cgi-bin/response.py</strong> a cgi server</p>
</li>
<li>
<p><strong>Iso</strong> egret isometric projection library.</p>
</li>
</ul>
<h2><a id="user-content-egretinit" class="anchor" href="#egretinit" aria-hidden="true"><span class="octicon octicon-link"></span></a>egretInit</h2>
<p>An example of egret project base on egret 2.0.0</p>
<h2><a id="user-content-egrettools" class="anchor" href="#egrettools" aria-hidden="true"><span class="octicon octicon-link"></span></a>egretTools</h2>
<p>some useful tools for egret </p>
<h3><a id="user-content-debug.ts" class="anchor" href="#debug.ts" aria-hidden="true"><span class="octicon octicon-link"></span></a>debug.ts</h3>
<p>debug egret project</p>
<h5><a id="user-content-showposition(target,context)" class="anchor" href="#showposition%28target%2Ccontext%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>showPosition(target,context)</h5>
<p>show DisplayObject position and console log it infomation</p>
<p>press ctrl and drag the object to change it's position</p>
<p>press shift and drag the object to change it's size</p>
<p>press alt and click the object to console log it's infomation</p>
<ul>
<li>
<p>target:egret.DisplayObject</p>
</li>
<li>
<p>context:egret.DisplayObjectContainer</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>debug.showPosition(target,this);</code></p>
<h5><a id="user-content-showallposition(context)" class="anchor" href="#showallposition%28context%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>showAllPosition(context)</h5>
<p>show DisplayObjectContainer's all children position and console log them infomation</p>
<ul>
<li>
<p>context:egret.DisplayObjectContainer</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>debug.showAllPosition(gameContainer);</code></p>
<h5><a id="user-content-showgroupposition(group,context)" class="anchor" href="#showgroupposition%28group%2Ccontext%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>showGroupPosition(group,context)</h5>
<p>show a group position</p>
<ul>
<li>
<p>group:egret.DisplayObject[]</p>
</li>
<li>
<p>context:egret.DisplayObjectContainer</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>debug.showGroupPosition([this.bm,this.mc],this);</code></p>
<h5><a id="user-content-debuging()" class="anchor" href="#debuging%28%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>debuging()</h5>
<p>debug game</p>
<ul>
<li>void</li>
</ul>
<p><code>debug.debuging();</code></p>
<h5><a id="user-content-pause()-resume()" class="anchor" href="#pause%28%29-resume%28%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>pause() resume()</h5>
<p>pause game and resume game</p>
<ul>
<li>void</li>
</ul>
<p><code>//console
ei_pause();
ei_resume();</code></p>
<h5><a id="user-content-showdebug()" class="anchor" href="#showdebug%28%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>showDebug()</h5>
<p>show debug panel</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-unittest(func,context,argsarr,funcname)" class="anchor" href="#unittest%28func%2Ccontext%2Cargsarr%2Cfuncname%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>unitTest(func,context,argsarr,funcname)</h5>
<p>unit test</p>
<ul>
<li>
<p>func:function test function</p>
</li>
<li>
<p>context:any this context</p>
</li>
<li>
<p>argsarr:[] arguments array</p>
</li>
<li>
<p>funcname:string function name</p>
</li>
</ul>
<p>```
    //define
    debug.unitTest(this.print,this,['aaa'],'print');</p>
<pre><code>//console
print();
print(['//args']);
</code></pre>
<p>```</p>
<h3><a id="user-content-tool.ts" class="anchor" href="#tool.ts" aria-hidden="true"><span class="octicon octicon-link"></span></a>tool.ts</h3>
<p>egret tools for Initialize standard egret Object</p>
<p>please use resourse.py to keep texture name and sourse name correct</p>
<h5><a id="user-content-stagew" class="anchor" href="#stagew" aria-hidden="true"><span class="octicon octicon-link"></span></a>stageW</h5>
<ul>
<li>:number</li>
</ul>
<p>stage width</p>
<p><code>this.stageWidth=tool.stageW;</code></p>
<h5><a id="user-content-stageh" class="anchor" href="#stageh" aria-hidden="true"><span class="octicon octicon-link"></span></a>stageH</h5>
<ul>
<li>:number</li>
</ul>
<p>stage height</p>
<p><code>stageHeight=tool.stageH;</code></p>
<h5><a id="user-content-setwh(that)" class="anchor" href="#setwh%28that%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>setWH(that)</h5>
<p>scale android stage and set global screen width and screen height</p>
<ul>
<li>
<p>that:egret.DisplayObjectContainer GameContainer</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>tool.setWH(gameContainer)</code></p>
<h5><a id="user-content-initbitmap(texture,x?,y?,ax?,ay?)" class="anchor" href="#initbitmap%28texture%2Cx%3F%2Cy%3F%2Cax%3F%2Cay%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>initBitmap(texture,x?,y?,ax?,ay?)</h5>
<p>Initialize a Bitmap Object</p>
<ul>
<li>
<p>texture:string </p>
</li>
<li>
<p>x:number default=0</p>
</li>
<li>
<p>y:number default=0</p>
</li>
<li>
<p>ax:number anchorX default=0</p>
</li>
<li>
<p>ay:number anchorY default=0</p>
</li>
<li>
<p>return:egret.Bitmap</p>
</li>
</ul>
<p><code>this.bm=tool.initBitmap('bm');
this.bm2=tool.initBitmap('bm',100,100,.5,.5);</code></p>
<h5><a id="user-content-initmovieclip(texture,x?,y?,ax?,ay?)" class="anchor" href="#initmovieclip%28texture%2Cx%3F%2Cy%3F%2Cax%3F%2Cay%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>initMovieClip(texture,x?,y?,ax?,ay?)</h5>
<p>Initialize a MovieClip Object</p>
<ul>
<li>
<p>texture:string </p>
</li>
<li>
<p>x:number default=0</p>
</li>
<li>
<p>y:number default=0</p>
</li>
<li>
<p>ax:number anchorX default=0</p>
</li>
<li>
<p>ay:number anchorY default=0</p>
</li>
<li>
<p>return:egret.MovieClip</p>
</li>
</ul>
<p><code>this.mc=tool.initMovieClip('mc');
this.mc.play(1);
this.mc2=tool.initMovieClip('mc2',200,100,.5,.5);
this.mc2.play(-1);</code></p>
<h5><a id="user-content-changemovieclipdata(target,texture)" class="anchor" href="#changemovieclipdata%28target%2Ctexture%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>changeMovieClipData(target,texture)</h5>
<p>Change MovieClip texture</p>
<ul>
<li>
<p>target:egret.MovieClip</p>
</li>
<li>
<p>texture:string</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>tool.changeMovieClipData(this.mc2,'mc');
this.mc.play(-1);</code></p>
<h5><a id="user-content-inittextfield(text,x?,y?,textcolor?,size?,fontfamily?,align?,ax?,ay?,linespacing?)" class="anchor" href="#inittextfield%28text%2Cx%3F%2Cy%3F%2Ctextcolor%3F%2Csize%3F%2Cfontfamily%3F%2Calign%3F%2Cax%3F%2Cay%3F%2Clinespacing%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>initTextField(text,x?,y?,textColor?,size?,fontFamily?,align?,ax?,ay?,lineSpacing?)</h5>
<p>Initialize a TextField Object</p>
<ul>
<li>
<p>text:string text</p>
</li>
<li>
<p>x:number default=0</p>
</li>
<li>
<p>y:number default=0</p>
</li>
<li>
<p>textColor:number font color default=0xffffff</p>
</li>
<li>
<p>size:number font size default=30</p>
</li>
<li>
<p>fontFamily:string font family default='SimHei'</p>
</li>
<li>
<p>align:egret.HorizontalAlign text align default=egret.HorizontalAlign.LEFT</p>
</li>
<li>
<p>ax:number anchorX default=0</p>
</li>
<li>
<p>ay:number anchorY default=0</p>
</li>
<li>
<p>lineSpacing:number line spacing default=0</p>
</li>
<li>
<p>return:egret.TextField</p>
</li>
</ul>
<p><code>this.tf=tool.initTextField('Hello World');
this.tf2=tool.initTextField('msg',100,200,0x000001,80,'SimHei');</code></p>
<h5><a id="user-content-initbitmaptext(font,text,x?,y?,ax?,ay?)" class="anchor" href="#initbitmaptext%28font%2Ctext%2Cx%3F%2Cy%3F%2Cax%3F%2Cay%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>initBitmapText(font,text,x?,y?,ax?,ay?)</h5>
<p>Initialize a BitMapText Object</p>
<ul>
<li>
<p>font:string font texture</p>
</li>
<li>
<p>text:string text</p>
</li>
<li>
<p>x:number default=0</p>
</li>
<li>
<p>y:number default=0</p>
</li>
<li>
<p>ax:number anchorX default=0</p>
</li>
<li>
<p>ay:number anchorY default=0</p>
</li>
<li>
<p>return:egret.BitmapText</p>
</li>
</ul>
<p><code>this.bmt=tool.initBitmapText('font','0');
this.bmt2=tool.initBitmapText('font','0',200,200,.5,.5);</code></p>
<h5><a id="user-content-getxy(event)" class="anchor" href="#getxy%28event%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>getXY(event)</h5>
<p>get Touch Coordinate </p>
<ul>
<li>
<p>event:egret.Event</p>
</li>
<li>
<p>return:object {"x":X,"y":Y}</p>
</li>
</ul>
<p>```
this.bm.addEventListener(egret.TouchEvent.TOUCH_BEGIN,touchBegin,this);
function touchBegin(e){
    var x=tool.getXY(e).x;
    var y=tool.getXY(e).y;
    console.log('touchXY:',x, y);
}</p>
<p>```</p>
<h5><a id="user-content-initparticle(texture,x?,y?,ax?,ay?)" class="anchor" href="#initparticle%28texture%2Cx%3F%2Cy%3F%2Cax%3F%2Cay%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>initParticle(texture,x?,y?,ax?,ay?)</h5>
<p>Initialize a Particle object (need the third party library particle support <a href="https://github.com/egret-labs/egret-game-library">https://github.com/egret-labs/egret-game-library</a>)</p>
<ul>
<li>
<p>texture:string particle texture</p>
</li>
<li>
<p>x:number default=0</p>
</li>
<li>
<p>y:number default=0</p>
</li>
<li>
<p>ax:number anchorX default=0</p>
</li>
<li>
<p>ay:number anchorY default=0 </p>
</li>
<li>
<p>return:particle.GravityParticleSystem</p>
</li>
</ul>
<p><code>this.system = tool.initParticle('evilParticle', 300,300, .5, .5);</code></p>
<h5><a id="user-content-initscale9gridbitmap(texture,rsw,rsh,rw,rh,width?,height?,x?,y?,ax?,ay?)" class="anchor" href="#initscale9gridbitmap%28texture%2Crsw%2Crsh%2Crw%2Crh%2Cwidth%3F%2Cheight%3F%2Cx%3F%2Cy%3F%2Cax%3F%2Cay%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>initScale9GridBitmap(texture,Rsw,Rsh,Rw,Rh,width?,height?,x?,y?,ax?,ay?)</h5>
<p>Initialize a Scale 9 Grid Bitmap object</p>
<ul>
<li>
<p>texture:string </p>
</li>
<li>
<p>Rsw Rsh Rw Rh:number</p>
</li>
<li>
<p>width height x y ax ay:number default=0</p>
</li>
<li>
<p>return:egret.Bitmap</p>
</li>
</ul>
<p>```
//(x,y)<strong><em>_</em></strong><strong><em>_</em></strong><em>
// |_Rsw</em>|Rsh<strong><em>_</em>|</strong><em>|
// |     |        |Rh |height
// |<strong><em>_</em>|</strong>Rw<strong><em>_|</em></strong>|
// |<strong><em>_</em>|</strong><strong><em>_</em>_|</strong></em>|
//        width</p>
<p>this.s9g=tool.initScale9GridBitmap("scale9grid",50,50,100,100);
```</p>
<h5><a id="user-content-initsound(texture)" class="anchor" href="#initsound%28texture%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>initSound(texture)</h5>
<p>Initialize a sound object</p>
<ul>
<li>texture:string</li>
</ul>
<p><code>var bgm=tool.initSound('bgm');
bgm.play(true);</code></p>
<h5><a id="user-content-addchildren(arr,context)" class="anchor" href="#addchildren%28arr%2Ccontext%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>addChildren(arr,context)</h5>
<p>add a group to stage</p>
<ul>
<li>
<p>arr:egret.DisplayObject[]</p>
</li>
<li>
<p>context:egret.DisplayObjectContainer</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>tool.addChildren([this.bm,this.mc],this);</code></p>
<h5><a id="user-content-removechildren(arr,context)" class="anchor" href="#removechildren%28arr%2Ccontext%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>removeChildren(arr,context)</h5>
<p>remove a group from stage</p>
<ul>
<li>
<p>arr:egret.DisplayObject[]</p>
</li>
<li>
<p>context:egret.DisplayObjectContainer</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>tool.removeChildren([this.bm,this.mc],this);</code></p>
<h5><a id="user-content-test2recthit(obj1,obj2)" class="anchor" href="#test2recthit%28obj1%2Cobj2%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>test2RectHit(obj1,obj2)</h5>
<p>2 displayObject collision detection(anchor must be 0)</p>
<ul>
<li>
<p>obj1:egret.DisplayObject</p>
</li>
<li>
<p>obj2:egret.DisplayObject</p>
</li>
<li>
<p>return:boolean ishit?</p>
</li>
</ul>
<p><code>tool.test2RectHit(this.bm, this.bm2);</code></p>
<h5><a id="user-content-test2pointhit(obj1,obj2,range)" class="anchor" href="#test2pointhit%28obj1%2Cobj2%2Crange%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>test2PointHit(obj1,obj2,range)</h5>
<p>test 2 point distance whether less than range or not</p>
<ul>
<li>
<p>obj1:egret.DisplayObject</p>
</li>
<li>
<p>obj2:egret.DisplayObject</p>
</li>
<li>
<p>range:number range</p>
</li>
<li>
<p>return:boolean ishit?</p>
</li>
</ul>
<p><code>if(tool.test2PointHit(this.obstacleArr[i],this.player,60)){
    //gameover
}</code></p>
<h5><a id="user-content-getdata(url,reqdata?,callback?)" class="anchor" href="#getdata%28url%2Creqdata%3F%2Ccallback%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>getData(url,reqdata?,callback?)</h5>
<p>egret Ajax connect with server </p>
<ul>
<li>
<p>url:string URL</p>
</li>
<li>
<p>reqdata:string POST data if ===null use GET</p>
</li>
<li>
<p>callback:function callback function</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>tool.getData('http://127.0.0.1:8888/cgi-bin/response.py','data=dkz',function(data){
    console.log(data);
});</code></p>
<h5><a id="user-content-ajax(url,data,success,error,context,type?)" class="anchor" href="#ajax%28url%2Cdata%2Csuccess%2Cerror%2Ccontext%2Ctype%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>ajax(url,data,success,error,context,type?)</h5>
<p>egret ajax have error callback function and call context</p>
<ul>
<li>
<p>url:string URL</p>
</li>
<li>
<p>data:string data string like "name=value&amp;id=0"</p>
</li>
<li>
<p>success:function success callback function have 1 data argument</p>
</li>
<li>
<p>error:function error callback function</p>
</li>
<li>
<p>context:egret.DisplayObjectContainer this</p>
</li>
<li>
<p>type:string connect type default GET</p>
</li>
</ul>
<p><code>var url=connect.HOST+'load';
var reqstr='worldName='+worldName;
function loadSuccess(data){
    console.log(data)
}
function loadError(){
    console.log('error')
}
tool.ajax(url,reqstr,loadSuccess,loadError,this,'post');</code></p>
<h5><a id="user-content-randomint(n)" class="anchor" href="#randomint%28n%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>randomInt(n)</h5>
<p>return a random int between 0 to n-1</p>
<ul>
<li>
<p>n:number max </p>
</li>
<li>
<p>return:int random int</p>
</li>
</ul>
<p><code>var r=tool.randomInt(10);</code></p>
<h5><a id="user-content-btnpress(btn,endfunc,that,presstexture?,texture?,startfunc?)" class="anchor" href="#btnpress%28btn%2Cendfunc%2Cthat%2Cpresstexture%3F%2Ctexture%3F%2Cstartfunc%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>btnPress(btn,endfunc,that,presstexture?,texture?,startfunc?)</h5>
<p>button press effect</p>
<ul>
<li>
<p>btn:egret.DisplayObject the button</p>
</li>
<li>
<p>endfunc:function touch end function</p>
</li>
<li>
<p>that:egret.DisplayObjectContainer this context</p>
</li>
<li>
<p>presstexture:string texture when button press</p>
</li>
<li>
<p>texture:string normal texture</p>
</li>
<li>
<p>startfunc:function touch start function</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>tool.btnPress(this.leftBtn,'left_btn_press','left_btn',this.doright,this);</code></p>
<h5><a id="user-content-setbestscore(score)" class="anchor" href="#setbestscore%28score%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>setBestScore(score)</h5>
<p>set localstorage bestscore and return bestscore</p>
<p>*score:number </p>
<p>*return bestScore:number</p>
<p><code>var bestScore=tool.setBestScore(this.score);</code></p>
<h5><a id="user-content-dolocalstorage(name,value?,defaultv='0')" class="anchor" href="#dolocalstorage%28name%2Cvalue%3F%2Cdefaultv%3D%270%27%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>dolocalStorage(name,value?,defaultV='0')</h5>
<p>set &amp; get &amp; init egret localStorge</p>
<ul>
<li>
<p>name:string key</p>
</li>
<li>
<p>value:string value</p>
</li>
<li>
<p>defaultV:string init value</p>
</li>
</ul>
<p><code>bestScore=tool.setBestScore('bestScore');</code></p>
<h5><a id="user-content-setfullwidthobj(obj,w?,h?)" class="anchor" href="#setfullwidthobj%28obj%2Cw%3F%2Ch%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>setFullWidthObj(obj,w?,h?)</h5>
<p>set full width obj 's width equel to stage width and scale height</p>
<ul>
<li>
<p>obj:egret.DisplayObject obj</p>
</li>
<li>
<p>w:number texture width</p>
</li>
<li>
<p>h:number texture height</p>
</li>
</ul>
<h5><a id="user-content-setbgwh(bg)" class="anchor" href="#setbgwh%28bg%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>setBgWH(bg)</h5>
<p>set background image width and height</p>
<ul>
<li>bg:egret.DisplayObject background</li>
</ul>
<h5><a id="user-content-formatrix(func,that,args:any[]=[],ilength=6,jlength=6)" class="anchor" href="#formatrix%28func%2Cthat%2Cargs%3Aany%5B%5D%3D%5B%5D%2Cilength%3D6%2Cjlength%3D6%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>forMatrix(func,that,args:any[]=[],ilength=6,jlength=6)</h5>
<p>array matrix function </p>
<ul>
<li>
<p>func:function execute function</p>
</li>
<li>
<p>that:egret.DisplayObjectContainer context</p>
</li>
<li>
<p>args:any[] arguments of func</p>
</li>
<li>
<p>ilength:number line length</p>
</li>
<li>
<p>jlength:number column length</p>
</li>
</ul>
<p><code>tool.forMatrix(function(i,j){
        this.mapfloorarr[i][j].alpha=.05;
    },this);</code></p>
<h3><a id="user-content-component.ts" class="anchor" href="#component.ts" aria-hidden="true"><span class="octicon octicon-link"></span></a>component.ts</h3>
<p>some useful components like air button</p>
<h5><a id="user-content-airbtn(text,w?,h?,x?,y?,ax?,ay?,color?,fontsize?,linewidth?,fontfamily?)" class="anchor" href="#airbtn%28text%2Cw%3F%2Ch%3F%2Cx%3F%2Cy%3F%2Cax%3F%2Cay%3F%2Ccolor%3F%2Cfontsize%3F%2Clinewidth%3F%2Cfontfamily%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>airBtn(text,w?,h?,x?,y?,ax?,ay?,color?,fontsize?,linewidth?,fontFamily?)</h5>
<p>Air Button</p>
<ul>
<li>
<p>text:string text value of this Button</p>
</li>
<li>
<p>w:number width default=150</p>
</li>
<li>
<p>h:number height default=60</p>
</li>
<li>
<p>x:number x coordinate default=1</p>
</li>
<li>
<p>y:number y coordinate default=1</p>
</li>
<li>
<p>ax:number anchorX default=.5</p>
</li>
<li>
<p>ay:number anchorY default=.5;</p>
</li>
<li>
<p>color:colornumber color of this button border background and text default=0xffffff;</p>
</li>
<li>
<p>fontsize:number font size default=40</p>
</li>
<li>
<p>linewidth:number border width default=3</p>
</li>
<li>
<p>fontFamily:string font family default='helvetica'</p>
</li>
<li>
<p>return {"btn":sp,"bg":bg,"border":border,"text":value} </p>
</li>
<li>
<p>btn:egret.Sprite this air button</p>
</li>
<li>
<p>bg:egret.Shape air button background</p>
</li>
<li>
<p>border:egret.Shape air button border</p>
</li>
<li>
<p>text:egret.TextField air button value</p>
</li>
</ul>
<p><code>this.airbtn=component.airBtn('stop',null,null,tool.stageW/2,tool.stageH/2+300);
this.addChild(this.airbtn.btn);</code></p>
<h5><a id="user-content-airbtnpress(airbtn,callback,that,startfunc?)" class="anchor" href="#airbtnpress%28airbtn%2Ccallback%2Cthat%2Cstartfunc%3F%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>airBtnPress(airbtn,callback,that,startfunc?)</h5>
<p>air button press effect</p>
<ul>
<li>
<p>airbtn:component.airBtn air button</p>
</li>
<li>
<p>callback:function callback function execute when touch end</p>
</li>
<li>
<p>that:egret.DisplayObjectContainer this context</p>
</li>
<li>
<p>startfunc:function touch start function</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<p><code>component.airBtnPress(this.airbtn,stop,this);
function stop(){
    this.render.stop();
}</code></p>
<h3><a id="user-content-animation.py" class="anchor" href="#animation.py" aria-hidden="true"><span class="octicon octicon-link"></span></a>animation.py</h3>
<p>Time-base Animation </p>
<p>solve fps drop problems when using Frame-based Animation</p>
<p><code>this.enterframe=new animation(this);
    this.enterframe.onenterframe(this.animateObj);
    this.enterframe.start();</code></p>
<h5><a id="user-content-fps" class="anchor" href="#fps" aria-hidden="true"><span class="octicon octicon-link"></span></a>FPS</h5>
<ul>
<li>:number</li>
</ul>
<p>fps default=60</p>
<h5><a id="user-content-acc" class="anchor" href="#acc" aria-hidden="true"><span class="octicon octicon-link"></span></a>acc</h5>
<ul>
<li>:number</li>
</ul>
<p>accumulative time default=0</p>
<h5><a id="user-content-dt" class="anchor" href="#dt" aria-hidden="true"><span class="octicon octicon-link"></span></a>dt</h5>
<ul>
<li>:number</li>
</ul>
<p>interval time between two frame</p>
<p>default=Number((1000 / Render.FPS).toFixed(1))</p>
<h5><a id="user-content-callback" class="anchor" href="#callback" aria-hidden="true"><span class="octicon octicon-link"></span></a>callback</h5>
<ul>
<li>:function</li>
</ul>
<p>loop function</p>
<h4><a id="user-content-context" class="anchor" href="#context" aria-hidden="true"><span class="octicon octicon-link"></span></a>context</h4>
<ul>
<li>:egret.DisplayObjectContainer</li>
</ul>
<p>context this</p>
<h5><a id="user-content-register(callback,-context)" class="anchor" href="#register%28callback%2C-context%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>register(callback, context)</h5>
<p>register render</p>
<ul>
<li>
<p>callback:function</p>
</li>
<li>
<p>context:egret.DisplayObjectContainer</p>
</li>
<li>
<p>void</p>
</li>
</ul>
<h5><a id="user-content-unregister()" class="anchor" href="#unregister%28%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>unregister()</h5>
<p>unregister render</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-handle(d)" class="anchor" href="#handle%28d%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>handle(d)</h5>
<p>notify call loop function</p>
<ul>
<li>d:number real interval time</li>
</ul>
<h5><a id="user-content-animationarr" class="anchor" href="#animationarr" aria-hidden="true"><span class="octicon octicon-link"></span></a>animationArr</h5>
<p>register function array</p>
<ul>
<li>:array</li>
</ul>
<h5><a id="user-content-loop()" class="anchor" href="#loop%28%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>loop()</h5>
<p>loop function call by handle</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-onenterframe(func)" class="anchor" href="#onenterframe%28func%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>onenterframe(func)</h5>
<p>register function to loop</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-offenterframe(func)" class="anchor" href="#offenterframe%28func%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>offenterframe(func)</h5>
<p>unregister function from loop</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-start()" class="anchor" href="#start%28%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>start()</h5>
<p>start render</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-stop()" class="anchor" href="#stop%28%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>stop()</h5>
<p>stop render</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-pause()" class="anchor" href="#pause%28%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>pause()</h5>
<p>pause render</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-resume()" class="anchor" href="#resume%28%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>resume()</h5>
<p>resume render</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-set-framerate(fps)" class="anchor" href="#set-framerate%28fps%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>set framerate(fps)</h5>
<p>set fps and dt</p>
<ul>
<li>void</li>
</ul>
<h5><a id="user-content-tween(valuename,startv,endv,time,context)" class="anchor" href="#tween%28valuename%2Cstartv%2Cendv%2Ctime%2Ccontext%29" aria-hidden="true"><span class="octicon octicon-link"></span></a>tween(valueName,startV,endV,time,context)</h5>
<p>linear tweens static function </p>
<ul>
<li>
<p>valueName:string this.value's Name</p>
</li>
<li>
<p>startV:number start value this.value</p>
</li>
<li>
<p>endV:number end value </p>
</li>
<li>
<p>time:number during time</p>
</li>
<li>
<p>context:egret.DisplayObjectContainer context this</p>
</li>
</ul>
<p><code>this.v=0;
var interval=animation.tween('v',this.v,100,1000,this);</code></p>
<h3><a id="user-content-loading.ts" class="anchor" href="#loading.ts" aria-hidden="true"><span class="octicon octicon-link"></span></a>loading.ts</h3>
<p>loading panel and new stinger panel</p>
<h3><a id="user-content-resource.py" class="anchor" href="#resource.py" aria-hidden="true"><span class="octicon octicon-link"></span></a>resource.py</h3>
<p>create resource.json automatically</p>
<p>standard naming rule use file name as texture name</p>
<p>sprite sheet must be named like /^\w*SS.json$/</p>
<h3><a id="user-content-update.py" class="anchor" href="#update.py" aria-hidden="true"><span class="octicon octicon-link"></span></a>update.py</h3>
<p>update egretInit automatically</p>
<h3><a id="user-content-runserver.py" class="anchor" href="#runserver.py" aria-hidden="true"><span class="octicon octicon-link"></span></a>runServer.py</h3>
<p>a python server</p>
<h3><a id="user-content-simpleserver.py" class="anchor" href="#simpleserver.py" aria-hidden="true"><span class="octicon octicon-link"></span></a>simpleserver.py</h3>
<p>a python server (base on python 2.7)</p>
<h3><a id="user-content-cgi-bin/response.py" class="anchor" href="#cgi-bin/response.py" aria-hidden="true"><span class="octicon octicon-link"></span></a>cgi-bin/response.py</h3>
<p>a cgi server</p>
<h3><a id="user-content-iso" class="anchor" href="#iso" aria-hidden="true"><span class="octicon octicon-link"></span></a>Iso</h3>
<p>egret isometric projection library.</p>
<p>create by may</p>
<p><a href="http://davidkingzyb.github.io/blogmd/8.html">how to use?</a></p></article>
<article class="markdown-body">
<!-- 多说评论框 start -->
	<div id="discusspane"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"davidkingzyb"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->

</article>
</div>
	</div>
<div id="footer">
	<div id="footerPane">
		<img id="cubehead" src="../res/img/cubehead.png">
		<div id="footerL">
			<a href="../index.html">Home</a><a href="../index.html#contact">Contact</a>
		</div>
		<div id="footerR">
			<a id="search">Search</a><a href="../blog.html">Contents</a><a href="#top">Top</a>
		</div>

	</div>
</div>
</body>
</html>