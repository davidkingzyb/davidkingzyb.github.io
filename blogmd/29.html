<!DOCTYPE html>
<html>

<head>
    <title>DKZ's Blog</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=0.8, minimum-scale=0.8, maximum-scale=0.8, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="../res/md.css">
    <link rel="stylesheet" type="text/css" href="../res/blogstyle.css">
    <script type="text/javascript" src="../res/dkzlogo.js"></script>
</head>

<body>
    <div id="footer">
        <div id="footerPane">
            <a href="../blogmd/1.html"><img id="cubehead" src="../res/img/cubehead.png"></a>
            <div id="footerL">
                <!-- <a class="btn" href="../home.html">Home</a> -->
                <a class="btn" href="//davidkingzyb.tech">Home</a><a id="rssbtn" href="../rss.xml" class="btn">RSS</a>
            </div>
            <div id="footerR">
                <a class="btn" href="https://github.com/davidkingzyb/davidkingzyb.github.io/issues/1" id="discussbtn">Discuss</a><a class="btn" href="../blog.html">Contents</a><a class="btn" href="#top">Top</a>
            </div>
        </div>
    </div>
    <div id="container">
        <a href="#top">
            <div id="headPane">
                <div id="headmain">
                    <canvas id="dkzlogo" width="340" height="250">
                        <img src="../res/img/dkzlogo.png">
                    </canvas>
                </div>
                <script type="text/javascript" src="../res/blogmd.js"></script>
            </div>
        </a>
        <div id="bodyPane">
<article class="markdown-body"><h1><a class="anchor" name="nice-try"><span class="octicon octicon-link"></span></a>Nice Try</h1>

<p><strong>夏天结束了</strong></p>

<p>2018/9/16 by DKZ</p>

<p>2018年的夏天，做了一件重要的事，4月20日离职，22号买了去武汉的单程车票。计划这个好久了，翻年就有辞职的打算的，微信上线了小游戏，看到一个机会吧，想抓住它。准备的时间可能更久，2017年的业余时间完成了《山海》的原型，加了聊天功能和NPC。而开始这个项目要从2016年的七月开始说起了。</p>

<p>那时我在经历一段迷茫的时期，独自躺在躺在空荡的房间，望着天花板，心里想着她和人生的意义。我决定为她做些什么，一动念就走到这儿了。最开始的时候它只是一份心意，一个角色在山海间行走，你只要按着他就会一直前进，最后翻山越海见到她。这就是最开始的想法了，一个没有太多意义的小礼物，凭着这个执念把它做成了现在这个聊天小游戏。还是更喜欢它最开始的样子一些，之后添加了太多它所不能承载的意义，被这些意义所束缚，而忘记了初心。</p>

<p>2016年底辞职，去了趟成都，在那里完成了第一个版本，将它提交了steam绿光。翻年此事暂告一段落，找了新工作。想给山海加一些新的功能，匹配陌生人聊天 ，和NPC对话功能。上半年做了一个demo，用flask+socketio，逐步构建了一个完整的后台架构，包含登陆，即时通信，数据存储并支持并发。之后着手对《山海》进行了一次重构，分离了场景和角色，添加了通信，对话显示，角色交互的新功能还增加了一个黑夜的新场景，用vue做了一个简单的后台管理系统。七月的时候买了域名和服务器，修改了一些bug，赶在九月四号她生日之前上线了网页版。</p>

<p>九月开始了ios项目的开发，边做边学swift。ios项目基于egret引擎打包的oc和swift混编。自己写了一个observer和引擎进行通信，把即时通信的部分替换为原生的swift-socketio，用原生的ui组建写了输入的部分，做了图文混排的文字渲染，解决了引擎<a href="https://github.com/davidkingzyb/emojiss">emoji</a>显示的问题。十月加入了ios开发者项目，之后针对ios审核的问题做了很多修改，增加了菜单，黑名单屏蔽功能。十一月开发了群聊的功能，和直播间的场景，ios项目也进入了testflight。十二月做了宣传的视频，等待苹果的审核。一年就这样过去了。</p>

<p>把这个项目比作一个孩子的话，这应该是分娩前的一段漫长的过程，在这个阶段里几乎没有什么外部的反馈，你只能任其生长。这个阶段还是挺充实的，这个项目基本上占据了我所有的时间，有一个较为明确的目标，虽然有些细节的地方遇到了一些小问题，但都解决了也学了不少东西。最开始没有一个完整的架构，所有的东西都从最简单的开始做起，慢慢摸索最后形成一个稳定的架构。</p>

<p>直到2018年2月苹果通过审核《山海》才上线appstore。2018年微信上线了小游戏，看到一个机会吧，过完年提了辞职，打算去武汉，完成这个项目。无法再忍受做这个项目带给我的撕裂感，想全力以赴求个结果有始有终。设想过各种可能性，明知自己会失败的，但还是值得一试。三四月完成了手机短信验证注册和手机登陆的功能，又重构了一次用了很多mixin替代ts的继承。</p>

<p>四月底在武汉参加了斗鱼的嘉年华，我印了一些传单，效果一般。不过在聚会上我第一次见到她，那一刻所有的想象都变成了可以触达的现实，五月算是在武汉安顿了下来。开始着手山海微信版的开发，把客户端拆分成三个项目托管在gitlab上。功能性的都在web项目上先开发好，再把代码手动复制到其他两个项目上，自己给自己做一遍review。针对特定平台的改动则在对应的项目上直接改动，针对微信把资源和项目分离开来分组加载，重写了ajax请求的部分手动设置cookie。针对微信websocket有自己的api，fork了一个socketio <a href="https://github.com/davidkingzyb/socket.io-wx-client">socket.io-wx-client</a>支持微信api，把engineio的部分替换成微信的api，做了微信的登陆和私密聊天分享功能。六月微信版本已经基本完成，在等待软件著作权的证书办下来就可以提交审核上线运营了。其他时间还重构了ios的项目，添加了好友系统和消息通知系统。</p>

<p>六月底微信版上线之前见了她一面，聊到这个项目的时候感觉还是有点空洞 ，所有脑海中的设想以及赋予山海的意义都变得渺小，言语也无法传达我的心意。那天特别幸运，拿到了软著的文件，之后微信审核也顺利通过了，赶在七月前微信项目顺利上线。这大概是此行最棒的时刻了，独自爬上了山顶，视野也开阔了起来。</p>

<p>我看到了更多的山，那些下坡的路也是这条路的一部分。计划中的摩点众筹搁浅，我不得不调整和放弃之前的开发计划，七八月只做了留言和树洞的功能和图片二维码保存分享朋友圈的功能还有诸如断线重连和添加好友优化。我又陷入了迷茫没了方向，开发也逐渐陷入停滞。我开始荒芜度日，并不是无事可做，我有计划做群聊的NPC功能，但没有好的故事我想这不会带来太大的改变。而且我也失去了做这件事的意义和坚持的理由，勇气迅速的流逝。</p>

<p>夏天结束了，这件事告一段落，最近在思考这些过去的事，这个项目本身及我曾拥有的选择，想从中学到些什么。事实上留给我的选择不多，似乎只有放弃或是继续，我每次都会选相对容易的那一条路继续做下去。我只能说我不后悔我的选择，但是我怀疑这些选择是否正确。关于这个项目本身，或许应该保留它最初的样子作为一个礼物藏在山海里沉默不语。后来添加了太多功能性的东西，掩盖了它的初心，它所承载的意义超出了它本身能够表达的东西，而我空有表达的欲望，却没有一个可以说出口的故事。它没有足够的内容让它称得上一个游戏，在功能上也都不是刚需，而我自己在运营上也有短板，这个项目有太多私人的感情在其中，我无法敞开的向任何人说这些经历，只能原本的把我所做的事记录下来。在推广这件事情上也只能顺其自然，应者寥寥最终石沉大海，使得这个项目保持在一个私人项目的范围内。</p>

<p>这大概是故事的结局了。我送出了那封信，转身向山里走去，离开武汉。这个项目还会继续运营，可能会做一些小的改动，但会保持它本来的样子。不知道写什么了，就到这儿吧。</p>
</article><div class="markdown-body" id="discusspane">
    <a href="https://github.com/davidkingzyb/davidkingzyb.github.io/issues/1" class="btn">Discuss</a>
    <a href="../blog.html?year=2019" class="btn">2019</a>
    <a href="../blog.html?year=2018" class="btn">2018</a>
    <a href="../blog.html?year=2017" class="btn">2017</a>
    <a href="../blog.html?year=2016" class="btn">2016</a>
    <a href="../blog.html?year=2015" class="btn">2015</a>
    <div id="copyright">&copy;2015-2019 by DKZ</div>
</div>
</div>
</div>
</body>

</html>
